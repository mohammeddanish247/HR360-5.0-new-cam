{"version":3,"file":"src_app_engineersignature_engineersignature_module_ts-es2015.js","mappings":"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","sources":["./src/app/engineersignature/engineersignature-routing.module.ts","./src/app/engineersignature/engineersignature.module.ts","./src/app/engineersignature/engineersignature.page.ts","./src/app/engineersignature/engineersignature.page.html"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { EngineersignaturePage } from './engineersignature.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: EngineersignaturePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class EngineersignaturePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { EngineersignaturePageRoutingModule } from './engineersignature-routing.module';\n import { EngineersignaturePage } from './engineersignature.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    EngineersignaturePageRoutingModule,\n     \n  ],\n   declarations: [EngineersignaturePage]\n})\nexport class EngineersignaturePageModule {}\n","import { Component, OnInit ,ViewChild, ElementRef} from '@angular/core';\nimport { from } from 'rxjs';\nimport SignaturePad from 'signature_pad';\nimport { ApiService } from '../api.service';\nimport {Storage} from '@ionic/storage';\nimport {HttpParams} from '@angular/common/http';\nimport { HashTable } from 'angular-hashtable';\n\n@Component({\n  selector: 'app-engineersignature',\n  templateUrl: './engineersignature.page.html',\n  styleUrls: ['./engineersignature.page.scss'],\n})\nexport class EngineersignaturePage implements OnInit {\n \n \n  \n  set = new Set();\n  prg = new Set();\n\n  has = new HashTable<String, String[]>();\n  key: string;\n \n  \n  \n  EngsignaturePad:SignaturePad;\n  sigImage: string;\n  constructor(private storage:Storage, private auth:ApiService,private elementRef: ElementRef ) { }\n\n  ngOnInit() {\n    const canvas: any = this.elementRef.nativeElement.querySelector('canvas');\n    this.EngsignaturePad = new SignaturePad(canvas);\n    this.auth.database.executeSql('select Sign from EngInfo', []).then(res=>{\n      this.EngsignaturePad.fromDataURL(res.rows.item(0)['Sign'],{\n        width: canvas.width,\n        height: canvas.height\n      });\n    });\n   }\n\n   isCanvasBlank(){\n    if (this.EngsignaturePad) {\n      return this.EngsignaturePad.isEmpty() ? true : false;\n    }\n   }\n\n   \n  clear(){\n    this.EngsignaturePad.clear();\n  }\n\n  async save(){\n    this.sigImage = this.EngsignaturePad.toDataURL();\n   \n    let a = await this.auth.checkNetwork();\n    if (a.connected) {\n      this.auth.presentLoading('Please wait while we Uploading your Signature');\n      this.storage.get('enggid').then((daa)=>{        \n        let  httpParams = new HttpParams().set('SigImage',this.sigImage.split(',')[1]).set('EngId',daa);\n        this.auth.httpSend('Service_EngSignatureUpload',httpParams,'post').subscribe((res)=>{\n            console.log('Signature Updated');\n            this.auth.dismissLoading();\n            this.auth.showToast('Success! Engineer Signature has been updated','success');            \n        },\n        (error)=>{\n          console.log('errror');\n          this.auth.dismissLoading();\n        });\n       }).catch((e)=>{this.auth.dismissLoading();});;\n    } else {\n      //this.auth.showToast(\"Internet not connected. There was a problem with your network connection.\",'danger');\n    }     \n\n    this.auth.updateEngInfo(\"Sign\",this.sigImage);\n   \n  }\n\n\n}\n","export default \"<ion-header>\\n  <ion-toolbar color=\\\"secondary\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n      <ion-title>Engineer Signature</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <div id=\\\"canvasID\\\">\\n    <canvas id=\\\"Engsigcanvas\\\" width=\\\"300\\\" height=\\\"182\\\"></canvas>\\n  </div>\\n    <ion-grid>\\n      <ion-row>\\n        <ion-col size=\\\"6\\\">\\n          <ion-button color=\\\"medium\\\" expand=\\\"full\\\" [disabled]=\\\"isCanvasBlank()\\\" (click)=\\\"save()\\\"> Save</ion-button>\\n        </ion-col>\\n        <ion-col size=\\\"6\\\">\\n          <ion-button color=\\\"medium\\\" expand=\\\"full\\\" (click)=\\\"clear()\\\"> Clear</ion-button>\\n        </ion-col>\\n      </ion-row>\\n    </ion-grid>\\n </ion-content>\\n\";"],"names":[],"sourceRoot":"webpack:///"}