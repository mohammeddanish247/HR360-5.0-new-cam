{"version":3,"mappings":"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","names":["routes","path","component","_sitesurveysign_page__WEBPACK_IMPORTED_MODULE_0__","SitesurveysignPageRoutingModule","imports","_angular_router__WEBPACK_IMPORTED_MODULE_3__","exports","SitesurveysignPageModule","_angular_common__WEBPACK_IMPORTED_MODULE_4__","_angular_forms__WEBPACK_IMPORTED_MODULE_5__","_ionic_angular__WEBPACK_IMPORTED_MODULE_6__","_sitesurveysign_routing_module__WEBPACK_IMPORTED_MODULE_0__","declarations","_sitesurveysign_page__WEBPACK_IMPORTED_MODULE_1__","SitesurveysignPage","storage","elementRef","route","router","auth","canvas1","nativeElement","querySelector","canvas2","EngsignaturePad1","signature_pad__WEBPACK_IMPORTED_MODULE_2__","EngsignaturePad2","clear","queryParams","subscribe","getCurrentNavigation","extras","state","data","get","then","res","CustomerName","SurveyorName","describeIssue","database","executeSql","rows","item","JSON","stringify","fromDataURL","width","height","e","signdata","set","image","toDataURL","split","showToast","isEmpty","undefined","save1","save2","hideflag","navigate","_ionic_storage__WEBPACK_IMPORTED_MODULE_4__","_angular_core__WEBPACK_IMPORTED_MODULE_5__","_angular_router__WEBPACK_IMPORTED_MODULE_6__","_api_service__WEBPACK_IMPORTED_MODULE_3__","selector","template","__webpack_exports__"],"sources":["webpack:///src/app/sitesurveysign/sitesurveysign-routing.module.ts","webpack:///src/app/sitesurveysign/sitesurveysign.module.ts","webpack:///src/app/sitesurveysign/sitesurveysign.page.ts","webpack:///src/app/sitesurveysign/sitesurveysign.page.html"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { SitesurveysignPage } from './sitesurveysign.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SitesurveysignPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SitesurveysignPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SitesurveysignPageRoutingModule } from './sitesurveysign-routing.module';\n\nimport { SitesurveysignPage } from './sitesurveysign.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SitesurveysignPageRoutingModule\n  ],\n  declarations: [SitesurveysignPage]\n})\nexport class SitesurveysignPageModule {}\n","import { Component, OnInit, ViewChild, ElementRef, EventEmitter, Output } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport SignaturePad from 'signature_pad';\nimport { ApiService } from '../api.service';\nimport {Storage} from '@ionic/storage';\nimport {HttpParams} from '@angular/common/http';\n\n@Component({\n  selector: 'app-sitesurveysign',\n  templateUrl: './sitesurveysign.page.html',\n  styleUrls: ['./sitesurveysign.page.scss'],\n})\nexport class SitesurveysignPage implements OnInit {\n\n  EngsignaturePad1: SignaturePad;\n  EngsignaturePad2: SignaturePad;\n  data = [];\n\n  // ngmodels\n  describeIssue:string='';\n  SurveyorName:string='';\n  CustomerName:string='';\n  hideflag : boolean = true ;\n\n  constructor(private storage:Storage,private elementRef: ElementRef, private route: ActivatedRoute, private router: Router, private auth:ApiService) { }\n\n  ngOnInit() {\n    const canvas1: any = this.elementRef.nativeElement.querySelector('#Engsigcanvas1');\n    const canvas2: any = this.elementRef.nativeElement.querySelector('#Engsigcanvas2');\n    this.EngsignaturePad1 = new SignaturePad(canvas1);\n    this.EngsignaturePad2 = new SignaturePad(canvas2);\n    this.EngsignaturePad1.clear();\n    this.EngsignaturePad2.clear();\n    this.route.queryParams.subscribe(params => {\n      if (this.router.getCurrentNavigation().extras.state) {\n        this.data = this.router.getCurrentNavigation().extras.state.data;\n        this.storage.get(this.data['JOBGUID']).then((res)=>{\n          this.CustomerName = res['CustomerName'];\n          this.SurveyorName = res['SurveyorName'];\n          this.describeIssue = res['describeIssue']; \n          this.auth.database.executeSql('select * from sitesurveysign where JOBGUID=?',[this.data['JOBGUID']]).then((res)=>{\n            this.describeIssue= res.rows.item(0)['describeIssue'];\n            this.SurveyorName= res.rows.item(0)['surveyorname'];\n            this.CustomerName= res.rows.item(0)['customername'];\n            if(JSON.stringify(res.rows.item(0)['surveyorsign']) != \"null\"){\n              this.EngsignaturePad1.fromDataURL('data:image/jpeg;base64,'+res.rows.item(0)['surveyorsign'],{\n                width: canvas1.width,\n                height: canvas1.height\n              });\n              this.EngsignaturePad2.fromDataURL('data:image/jpeg;base64,'+res.rows.item(0)['customersign'],{\n                width: canvas2.width,\n                height: canvas2.height\n              });             \n            }\n          }).catch((e)=>{\n          });                      \n        }).catch((e)=>{\n        });\n      }\n    });\n    \n  }\n\n  ionViewWillLeave(){\n    const signdata={\n      CustomerName: this.CustomerName,\n      SurveyorName: this.SurveyorName,\n      describeIssue: this.describeIssue\n    }\n    this.storage.set(this.data['JOBGUID'],signdata);\n  }\n\n  save1() {\n    let image = this.EngsignaturePad1.toDataURL();\n    this.auth.database.executeSql('update sitesurveysign set surveyorsign=? where JOBGUID=?', [image.split(',')[1], this.data['JOBGUID']]).then((res) => {\n      // this.auth.showToast('Surveyor Signature has been Saved successfully.','success');  \n    }).catch((e) => {\n      this.auth.showToast('Signature Saved Error.'+JSON.stringify(e),'danger');\n\n    });\n  }\n\n  save2() {\n    let image = this.EngsignaturePad2.toDataURL();\n    this.auth.database.executeSql('update sitesurveysign set customersign=? where JOBGUID=?', [image.split(',')[1], this.data['JOBGUID']]).then((res) => {\n  \n      // this.auth.showToast('Customer Signature has been saved successfully.','success');\n    }).catch((e) => {\n    \n      this.auth.showToast('Signature Saved Error.'+JSON.stringify(e),'danger');\n    });\n  }\n  \n  clear1() {\n    this.EngsignaturePad1.clear();\n  }\n\n  clear2() {\n    this.EngsignaturePad2.clear();\n  }\n\n  isCanvasBlank1() {\n    return this.EngsignaturePad1.isEmpty();\n  }\n\n  isCanvasBlank2() {\n    return this.EngsignaturePad2.isEmpty();\n  }\n\n  SiteSurveySignature(){\n    if(this.describeIssue=='' || this.describeIssue==undefined){ this.auth.showToast('Describe Issue cannot be empty','danger')}else{\n      if(this.EngsignaturePad1.isEmpty()){this.auth.showToast('Surveyor signature cannot be empty','danger')}else{\n        if(this.EngsignaturePad2.isEmpty()){this.auth.showToast('Customer signature cannot be empty','danger')}else{\n          if(this.SurveyorName=='' || this.SurveyorName==undefined){this.auth.showToast('Surveyor name cannot be empty','danger')}else{\n            if(this.CustomerName=='' || this.CustomerName==undefined){this.auth.showToast('Customer name cannot be empty','danger')}else{         \n                this.save1();\n                this.save2();\n                this.auth.database.executeSql('update sitesurveysign set describeIssue=?, customername=? , surveyorname=?, HaveData=?  where JOBGUID=?',[this.describeIssue, this.CustomerName, this.SurveyorName, 'yes', this.data['JOBGUID']]).then((res)=>{\n                this.auth.database.executeSql(\"update  jobsstatus set  status=? where JOBGUID=? \",[ 'completed', this.data['JOBGUID']]).then((res)=>{\n                 this.hideflag = false ;               \n              }).catch((e)=>{  this.auth.showToast(\"Error.\"+e,'danger') });\n            }).catch((e)=>{\n              this.auth.showToast(\"Error.\"+e,'danger')\n            });\n            }\n          }\n        }\n      }\n    }\n  }\n\n\n  notSpokenToCustomer(){\n    this.auth.database.executeSql('update sitesurveysign set CLAIMRef=?, ButtonClicked=?  where JOBGUID=?',[this.data['CLAIMRef'], 'NotSpokenToCustomer', this.data['JOBGUID']]).then((res)=>{\n      this.router.navigate(['details']);\n      this.auth.showToast(\"Success! Job have been completed successfully.\",'success');\n  }).catch((e)=>{\n    this.auth.showToast(\"Error. inserting data \",'danger');\n  });\n\n  }\n\n  customerNotInterested(){\n    this.auth.database.executeSql('update sitesurveysign set CLAIMRef=?, ButtonClicked=?  where JOBGUID=?',[this.data['CLAIMRef'], 'CustomerNotInterested', this.data['JOBGUID']]).then((res)=>{\n      this.router.navigate(['details']);\n      this.auth.showToast(\"Success! Job have been completed successfully.\",'success');\n  }).catch((e)=>{\n    this.auth.showToast(\"Error. inserting data \",'danger');\n  });\n\n  }\n\n  customerInterestedCallBack(){\n    this.auth.database.executeSql('update sitesurveysign set CLAIMRef=?, ButtonClicked=?  where JOBGUID=?',[this.data['CLAIMRef'], 'CustomerInterestedCallBack', this.data['JOBGUID']]).then((res)=>{\n      this.router.navigate(['details']);\n      this.auth.showToast(\"Success! Job have been completed successfully.\",'success');\n  }).catch((e)=>{\n    this.auth.showToast(\"Error. inserting data \",'danger');\n  });\n  }\n\n  customerInterestedHotKeyLive(){\n    this.auth.database.executeSql('update sitesurveysign set CLAIMRef=?, ButtonClicked=?  where JOBGUID=?',[this.data['CLAIMRef'], 'CustomerInterestedHotKeyLive', this.data['JOBGUID']]).then((res)=>{\n      this.router.navigate(['details']);\n      this.auth.showToast(\"Success! Job have been completed successfully.\",'success');\n  }).catch((e)=>{\n    this.auth.showToast(\"Error. inserting data \",'danger');\n  });\n  }\n\n}\n","export default \"<ion-header>\\n  <ion-toolbar color=\\\"secondary\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n      <ion-title style=\\\"font-size: 16px;\\\">Site Survey Report Signature</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n \\n  <p id=\\\"Para\\\">Notes: Please describe any issue which the installer may face. </p>\\n  <ion-card>\\n    <ion-item [hidden]=\\\"describeIssueFlag\\\">\\n      <ion-textarea rows=\\\"6\\\" cols=\\\"20\\\" [(ngModel)]=\\\"describeIssue\\\" placeholder=\\\"Write details here...\\\"></ion-textarea>\\n    </ion-item>\\n  </ion-card>\\n\\n  <p id=\\\"Para\\\">I the customer have read and understood the Terms & Conditions. I can also confirm that I have been given and understood advice in respect of the condition of my smoke detectors and carbon monoxide meters where present, or the recommendations to install these if not present. </p>\\n\\n  <h4 style=\\\"text-align: center;\\\">Surveyor Signature</h4>\\n  <div id=\\\"canvasID1\\\">\\n    <canvas id=\\\"Engsigcanvas1\\\" width=\\\"300\\\" height=\\\"182\\\"></canvas>\\n  </div>  \\n  \\n  \\n  <ion-grid>\\n    <ion-row>\\n      <ion-col size=\\\"6\\\">\\n        <ion-button color=\\\"medium\\\" expand=\\\"full\\\" [disabled]=\\\"isCanvasBlank1()\\\" (click)=\\\"save1()\\\"> Save</ion-button>\\n      </ion-col>\\n      <ion-col size=\\\"6\\\">\\n        <ion-button color=\\\"medium\\\" expand=\\\"full\\\" (click)=\\\"clear1()\\\"> Clear</ion-button>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n\\n  <h4 style=\\\"text-align: center;\\\">Customer Signature</h4>\\n  <div id=\\\"canvasID2\\\">\\n    <canvas id=\\\"Engsigcanvas2\\\" width=\\\"300\\\" height=\\\"182\\\"></canvas>\\n  </div>\\n\\n  <ion-grid>\\n    <ion-row>\\n      <ion-col size=\\\"6\\\">\\n        <ion-button color=\\\"medium\\\" expand=\\\"full\\\" [disabled]=\\\"isCanvasBlank2()\\\" (click)=\\\"save2()\\\"> Save</ion-button>\\n      </ion-col>\\n      <ion-col size=\\\"6\\\">\\n        <ion-button color=\\\"medium\\\" expand=\\\"full\\\" (click)=\\\"clear2()\\\"> Clear</ion-button>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n\\n  <ion-card>\\n    <ion-item>\\n      <ion-label position=\\\"floating\\\">Surveyor Name</ion-label>\\n      <ion-input type=\\\"text\\\" [(ngModel)]=\\\"SurveyorName\\\" placeholder=\\\"Enter the Installer Name\\\"></ion-input>\\n    </ion-item>\\n\\n    <ion-item>\\n      <ion-label position=\\\"floating\\\">Customer Name</ion-label>\\n      <ion-input type=\\\"text\\\" [(ngModel)]=\\\"CustomerName\\\" placeholder=\\\"Enter the Customer Name\\\"></ion-input>\\n    </ion-item>\\n  </ion-card>\\n\\n  <div>\\n    <ion-button expand=\\\"block\\\" color=\\\"secondary\\\" (click)=\\\"SiteSurveySignature()\\\">Save</ion-button>\\n  </div>\\n  <p id=\\\"Para\\\">Important : First Click on Save to Save all work. </p>\\n  <div>\\n    <ion-button expand=\\\"block\\\" color=\\\"secondary\\\" (click)=\\\"notSpokenToCustomer()\\\" [disabled]=\\\"hideflag\\\">Not spoken to customer</ion-button>\\n  </div>\\n\\n  <div>\\n    <ion-button expand=\\\"block\\\" color=\\\"secondary\\\" (click)=\\\"customerNotInterested()\\\" [disabled]=\\\"hideflag\\\">Customer not interested</ion-button>\\n  </div>\\n\\n  <div>\\n    <ion-button expand=\\\"block\\\" color=\\\"secondary\\\" (click)=\\\"customerInterestedCallBack()\\\" [disabled]=\\\"hideflag\\\">Customer interested call back</ion-button>\\n  </div>\\n\\n  <div>\\n    <ion-button expand=\\\"block\\\" color=\\\"secondary\\\" (click)=\\\"customerInterestedHotKeyLive()\\\" [disabled]=\\\"hideflag\\\">Customer interested Hot Key Live</ion-button>\\n  </div>\\n\\n\\n</ion-content>\\n\\n\\n<ion-footer>\\n \\n</ion-footer>\";"]}