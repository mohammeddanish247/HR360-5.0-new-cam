{"version":3,"mappings":"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","names":["period","scheduler","_scheduler_async__WEBPACK_IMPORTED_MODULE_0__","_Observable__WEBPACK_IMPORTED_MODULE_2__","subscriber","counter","state","routes","path","component","_createcertificate_page__WEBPACK_IMPORTED_MODULE_0__","CreatecertificatePageRoutingModule","imports","_angular_router__WEBPACK_IMPORTED_MODULE_3__","exports","CreatecertificatePageModule","_angular_common__WEBPACK_IMPORTED_MODULE_4__","_angular_forms__WEBPACK_IMPORTED_MODULE_5__","_ionic_angular__WEBPACK_IMPORTED_MODULE_6__","_createcertificate_routing_module__WEBPACK_IMPORTED_MODULE_0__","declarations","_createcertificate_page__WEBPACK_IMPORTED_MODULE_1__","CreatecertificatePage","auth","router","route","alertCtrl","updateSubscription","unsubscribe","getdata","subscribe","val","getapplianceList","params","getCurrentNavigation","extras","data","console","log","database","executeSql","then","res","JSON","stringify","rows","length","NextButton","i","parseInt","hideNewApplianceBtn","item","undefined","addedApplainces","name","no","sno","e","navigationExtras","navigate","filter","_api_service__WEBPACK_IMPORTED_MODULE_2__","_angular_router__WEBPACK_IMPORTED_MODULE_4__","_ionic_angular__WEBPACK_IMPORTED_MODULE_5__","selector","template","__webpack_exports__"],"sources":["webpack:///node_modules/rxjs/_esm2015/internal/observable/interval.js","webpack:///src/app/createcertificate/createcertificate-routing.module.ts","webpack:///src/app/createcertificate/createcertificate.module.ts","webpack:///src/app/createcertificate/createcertificate.page.ts","webpack:///src/app/createcertificate/createcertificate.page.html"],"sourcesContent":["import { Observable } from '../Observable';\nimport { async } from '../scheduler/async';\nimport { isNumeric } from '../util/isNumeric';\nexport function interval(period = 0, scheduler = async) {\n    if (!isNumeric(period) || period < 0) {\n        period = 0;\n    }\n    if (!scheduler || typeof scheduler.schedule !== 'function') {\n        scheduler = async;\n    }\n    return new Observable(subscriber => {\n        subscriber.add(scheduler.schedule(dispatch, period, { subscriber, counter: 0, period }));\n        return subscriber;\n    });\n}\nfunction dispatch(state) {\n    const { subscriber, counter, period } = state;\n    subscriber.next(counter);\n    this.schedule({ subscriber, counter: counter + 1, period }, period);\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CreatecertificatePage } from './createcertificate.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CreatecertificatePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CreatecertificatePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CreatecertificatePageRoutingModule } from './createcertificate-routing.module';\n\nimport { CreatecertificatePage } from './createcertificate.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    CreatecertificatePageRoutingModule\n  ],\n  declarations: [CreatecertificatePage]\n})\nexport class CreatecertificatePageModule {}\n","import { Component, OnChanges, OnDestroy, OnInit } from '@angular/core';\nimport { Router,ActivatedRoute,NavigationExtras } from '@angular/router'; \nimport { AlertController } from '@ionic/angular';\nimport { stringify } from 'querystring';\nimport { interval, Subscription } from 'rxjs';\nimport { ApiService } from '../api.service';\n@Component({\n  selector: 'app-createcertificate',\n  templateUrl: './createcertificate.page.html',\n  styleUrls: ['./createcertificate.page.scss'],\n})\nexport class CreatecertificatePage implements OnInit, OnDestroy {\n  private updateSubscription: Subscription;\n  data:any[];\n  public addedApplainces=  [];\n  hideNewApplianceBtn=false;\n  NextButton = true;\n\n  constructor(public auth:ApiService,public router: Router, \n    public route: ActivatedRoute,\n    public alertCtrl : AlertController) { \n      \n  }\n  ngOnDestroy() {\n    this.updateSubscription.unsubscribe();\n  }\n\n  ngOnInit() {\n    this.getdata();\n    this.updateSubscription = interval(2000).subscribe(\n      (val) => {this.getapplianceList()});\n  }\n\n  getdata(){\n    this.route.params.subscribe(params=>{\n      if(this.router.getCurrentNavigation().extras.state){\n        this.data   = this.router.getCurrentNavigation().extras.state.data;\n        console.log('## data createcertificate '+this.data['JOBGUID']);\n        this.getapplianceList();\n      }\n    });\n  }\n\n  getapplianceList() {\n    // this.addedApplainces = [];\n    this.auth.database.executeSql('select * from newappliance where JOBGUID=?',[this.data['JOBGUID']])\n    .then((res)=>{\n      console.log('### NEW APPp '+' '+' '+JSON.stringify(res.rows.length));    \n        res.rows.length >= 1 ? this.NextButton = false : this.NextButton = true;\n        for(let i=0; i<parseInt(JSON.stringify(res.rows.length)); i++)\n        {\n          if(parseInt(JSON.stringify(res.rows.length))>=4){\n            this.hideNewApplianceBtn=true;\n          }\n          if( res.rows.item(i)['MakeAnswer']=='' || \n          res.rows.item(i)['MakeAnswer']==null || \n          res.rows.item(i)['MakeAnswer']==undefined ){\n            this.addedApplainces[i] = {\n              name : res.rows.item(i)['Make'],\n              no : i+1,\n              sno : res.rows.item(i)['SerialNo']\n            };\n          }else{\n            this.addedApplainces[i] = {\n              name : res.rows.item(i)['MakeAnswer'],\n              no : i+1,\n              sno : res.rows.item(i)['SerialNo']\n            };\n          }\n        } \n\n    }).catch((e)=>{\n      console.log('### NEW APP ERROR '+JSON.stringify(e));          \n    });\n  }\n\n\n  applianceDetailsClick(){\n    const navigationExtras: NavigationExtras = {\n      state: {\n      data: this.data,\n            }\n     };\n    this.router.navigate(['appliancedetails'], navigationExtras);  \n    this.updateSubscription.unsubscribe();\n  }\n\n  applianceNewClick(){\n    const navigationExtras: NavigationExtras = {\n      state: {\n      data: this.data,\n            }\n     };\n    //this.router.navigate(['newappliance'],navigationExtras);\n    this.router.navigate(['newappliance'],navigationExtras);\n  }\n\n  appliancedataUpdate(name:any, sno:any){\n\n    const navigationExtras: NavigationExtras = {\n      state: {\n      data: {'JOBGUID':this.data['JOBGUID'],'AppName':name, 'id':sno},\n            }\n     };\n    //this.router.navigate(['editappliance'],navigationExtras);\n    this.router.navigate(['nwapp'],navigationExtras);        \n  }\n\n  deleteAppliance(sno:any, no){\n    this.auth.database.executeSql('delete from newappliance where SerialNo=?',[sno]).then(res=>{\n      // this.getapplianceList();\n      this.addedApplainces = this.addedApplainces.filter((item=> item.no !== no));\n      this.addedApplainces.length<1 ? this.NextButton = true : this.NextButton = false;\n    })\n  }\n\n}\n\n\n ","export default \"<ion-header>\\n  <ion-toolbar color=\\\"secondary\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n      <ion-title>Appliances</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <div class=\\\"space\\\"></div>\\n  <ion-item lines=\\\"none\\\">\\n    <ion-button  class=\\\"roundbutton1\\\" color=\\\"secondary\\\" shape=\\\"round\\\" [disabled]=\\\"hideNewApplianceBtn\\\" (click)=\\\"applianceNewClick()\\\">Add new appliance</ion-button>\\n  </ion-item>\\n  <p class=\\\"ion-text-center\\\" [hidden]=\\\"!hideNewApplianceBtn\\\" > Cannot Add More Than 4 Appliance. </p>\\n\\n  <ion-card class=\\\"addedApp\\\" *ngFor='let appliance of addedApplainces; let i = index'>\\n    <ion-list>\\n      <ion-item lines='none'>\\n        <ion-icon name=\\\"trash\\\" slot=\\\"end\\\" (click)=\\\"deleteAppliance(appliance.sno, appliance.no)\\\"></ion-icon>\\n        <ion-icon name=\\\"create\\\" slot=\\\"end\\\" (click)=\\\"appliancedataUpdate(appliance.name,appliance.sno)\\\"></ion-icon>\\n        <ion-label>\\n          <h2>{{appliance.no}} - &nbsp; {{appliance.name | uppercase}}</h2>\\n        </ion-label>\\n      </ion-item>\\n    </ion-list>\\n\\n\\n  </ion-card>\\n\\n  <div class=\\\"icon_container\\\">\\n    <ion-icon size=\\\"large\\\" name=\\\"refresh-circle\\\" (click)=\\\"reload()\\\"></ion-icon>\\n  </div>\\n  \\n</ion-content>\\n\\n\\n<!-- <ion-item lines=\\\"none\\\">\\n  <ion-button color=\\\"secondary\\\" shape=\\\"round\\\" (click)=\\\"applianceDetailsClick()\\\">Appliance Details</ion-button>\\n</ion-item> -->\\n\\n\\n<ion-footer>\\n  <ion-button expand=\\\"full\\\" color=\\\"secondary\\\" (click)=\\\"applianceDetailsClick()\\\" [disabled]=\\\"NextButton\\\">Next</ion-button>\\n</ion-footer>\";"]}